<div class="dashboard-container">
  <h2>Tableau de bord</h2>
  
  <div *ngIf="isLoading" class="loading">
    Chargement des données...
  </div>

  <div *ngIf="!isLoading" class="dashboard-stats">
    <div class="stat-card">
      <div class="stat-value">{{ studentsCount }}</div>
      <div class="stat-label">Étudiants</div>
      <a routerLink="/students" class="view-all">Voir tous</a>
    </div>
    
    <div class="stat-card">
      <div class="stat-value">{{ teachersCount }}</div>
      <div class="stat-label">Enseignants</div>
      <a routerLink="/teachers" class="view-all">Voir tous</a>
    </div>
    
    <div class="stat-card">
      <div class="stat-value">{{ coursesCount }}</div>
      <div class="stat-label">Cours</div>
      <a routerLink="/courses" class="view-all">Voir tous</a>
    </div>
    
    <div class="stat-card">
      <div class="stat-value">{{ classroomsCount }}</div>
      <div class="stat-label">Classes</div>
      <a routerLink="/classrooms" class="view-all">Voir tous</a>
    </div>
  </div>
  
  <div class="dashboard-sections">
    <div class="dashboard-section">
      <h3>Derniers étudiants inscrits</h3>
      <div *ngIf="recentStudents.length === 0">Aucun étudiant trouvé</div>
      <ul *ngIf="recentStudents.length > 0" class="list">
        <li *ngFor="let student of recentStudents">
          <a [routerLink]="['/students', student.id]">
            {{ student.name }}
          </a>
        </li>
      </ul>
    </div>
    
    <div class="dashboard-section">
      <h3>Dernières notes ajoutées</h3>
      <div *ngIf="recentGrades.length === 0">Aucune note trouvée</div>
      <ul *ngIf="recentGrades.length > 0" class="list">
        <li *ngFor="let grade of recentGrades">
          <a [routerLink]="['/grades', grade.id]">
            {{ grade.student.name }} - {{ grade.course.name }} : {{ grade.value }}/20
          </a>
        </li>
      </ul>
    </div>
    
    <div class="dashboard-section">
      <h3>Derniers cours créés</h3>
      <div *ngIf="recentCourses.length === 0">Aucun cours trouvé</div>
      <ul *ngIf="recentCourses.length > 0" class="list">
        <li *ngFor="let course of recentCourses">
          <a [routerLink]="['/courses', course.id]">
            {{ course.name }} - {{ course.teacher ? course.teacher.name : 'Enseignant non assigné' }}
          </a>
        </li>
      </ul>
    </div>
  </div>
  
  <div class="actions-panel">
    <h3>Actions rapides</h3>
    <div class="actions-buttons">
      <a routerLink="/students/new" class="btn btn-primary">Ajouter un étudiant</a>
      <a routerLink="/teachers/new" class="btn btn-primary">Ajouter un enseignant</a>
      <a routerLink="/courses/new" class="btn btn-primary">Créer un cours</a>
      <a routerLink="/grades/new" class="btn btn-primary">Ajouter une note</a>
    </div>
  </div>
</div>
